(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{570:function(s,t,a){s.exports=a.p+"assets/img/1.index.ac61ac6c.png"},703:function(s,t,a){"use strict";a.r(t);var r=a(17),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"源码概览"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#源码概览"}},[s._v("#")]),s._v(" 源码概览")]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("main.js ")]),r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("                   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("vue3.x")]),r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("createRenderer\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" App "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./App.vue'")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("          \\\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("            \\\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("              \\\n"),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("createApp")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("createAppAPI        "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("render   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("patch"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("派发更新"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("app"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("use        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("use                    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" element\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" provide                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" text\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" inject                   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" fragment\n"),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("app"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mount      "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mount  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("render   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" common\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("component"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("组件类型"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("template"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("template"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                                "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("          \\\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                     "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                               "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("            \\\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                             "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mount          update\n  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                               "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("              "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                         "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("createInstance    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  App"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vue"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("setup"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("组件数据"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                             "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("组件模板"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                            "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("setupComponent   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("setup "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("finishSetupComponent "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("compiler  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("render\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("setupRenderEffect "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("trigger                                     "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("App.vue")]),r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("                    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                                                                                            "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parse   "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                                                                                            "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ast     "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                                                                                            "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gencode "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n                             "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                                                                                            "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br")])]),r("xminder",{attrs:{tipkey:"b"}}),s._v(" "),r("p",[r("img",{attrs:{src:a(570),alt:""}})]),s._v(" "),r("h2",{attrs:{id:"源码调试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#源码调试"}},[s._v("#")]),s._v(" 源码调试")]),s._v(" "),r("ul",[r("li",[s._v("下载 vue3.x")])]),s._v(" "),r("div",{staticClass:"language-sh line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/vuejs/core\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("ul",[r("li",[s._v("开启 source map 模式")])]),s._v(" "),r("div",{staticClass:"language-json line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-json"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// package.json")]),s._v("\n...\n    "),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node scripts/dev.js --sourcemap"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n...\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br")])]),r("ul",[r("li",[s._v("打包")])]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("npm run dev\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("ul",[r("li",[s._v("使用 live-server(需安装 vscode 插件) 打开 examples 目录下的 demo 文件")])]),s._v(" "),r("p",[s._v("用户使用 vue3.x")]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("createApp")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\napp"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ElementPlus"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" locale "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\napp"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#app"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br")])]),r("h2",{attrs:{id:"流程概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#流程概述"}},[s._v("#")]),s._v(" 流程概述")]),s._v(" "),r("p",[s._v("createApp 会在内部通过执行 createRenderer 函数返回一个对象")]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  render"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("createApp")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("createAppApi")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("render"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br")])]),r("p",[s._v("createApp(App)实际上就是执行")]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[s._v("createAppApi")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("p",[s._v("返回一个对象")]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("相关函数"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mount")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("相关函数"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br")])]),r("p",[s._v("执行 mount，会依次将根节点生成 vnode,然后调用上述 render 函数")]),s._v(" "),r("p",[s._v("render 函数通过 patch 将递归遍历整个项目节点，根据不通类型进入不通函数处理")]),s._v(" "),r("p",[s._v("如果是组件节点，会通过创建组件实例--\x3e设置组件实例（期间会调用 setup 函数）--\x3e完成组件实例的设置后查看是否需要编译--\x3e设置并运行带有副作用的渲染函数--\x3e通过 effect 的 update 调用 render 函数")]),s._v(" "),r("p",[s._v("上述组件在是否需要编译的地方如果需要编译，会通过 compiler 函数依次执行 parse --\x3e ast -_> gencode --\x3e render 函数")]),s._v(" "),r("p",[s._v("通过上述递归方式将所有组件通过 render 函数渲染一边后，就能实现 vue3.x 的整个运行流程")])],1)}),[],!1,null,null,null);t.default=e.exports}}]);